(this["webpackJsonp10-currencies-converter"]=this["webpackJsonp10-currencies-converter"]||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(7),i=n.n(c),u=(n(13),n(8)),s=n(2),o=n(3),p=n(5),l=n(4),h=(n(14),n(0)),d=function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).generateCurrenciesList=function(){var t=e.props.avalibleCurrencies;return Object.keys(t).map((function(e,n){return Object(h.jsx)("option",{value:e,children:t[e]},n)}))},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsx)("select",{value:this.props.value,onChange:this.props.onChange,id:this.props.id,name:this.props.name,children:this.generateCurrenciesList()})}}]),n}(r.Component),f="8dc0ff1540msha81c0c56324b854p18e972jsn8903705f42f5",v=function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={avalibleCurrencies:{PLN:"Zloty",EUR:"Euro"},firstInputCurrency:"EUR",secondInputCurrency:"PLN",firstInputValue:"",secondInputValue:"",currencyRate:"",error:""},e.getApiCurrenciesList=function(){fetch("https://currency-converter5.p.rapidapi.com/currency/list",{method:"GET",headers:{"x-rapidapi-key":f,"x-rapidapi-host":"currency-converter5.p.rapidapi.com"}}).then((function(e){return e.json()})).then((function(t){"undefined"===typeof t.currencies?(e.setState({error:"Oops, the program encountered a problem retrieving the currency list. The program will try again in a moment."}),setTimeout((function(){return e.getApiCurrenciesList()}),1e3)):e.setState({avalibleCurrencies:t.currencies,error:""})})).catch((function(e){console.error(e)}))},e.initialApiRequest=function(){fetch("https://currency-converter5.p.rapidapi.com/currency/convert?format=json&from=EUR&to=PLN&amount=1",{method:"GET",headers:{"x-rapidapi-key":f,"x-rapidapi-host":"currency-converter5.p.rapidapi.com"}}).then((function(e){return e.json()})).then((function(t){"undefined"===typeof t.rates?e.setState({error:"Oops, the program has encountered a problem getting the initial content. Try again in a moment."}):e.setState({currencyRate:t.rates.PLN.rate,error:""})})).catch((function(e){console.error(e)}))},e.getApiCurrencyRate=function(t,n){var r=e.createApiRequest(t,n);fetch(r,{method:"GET",headers:{"x-rapidapi-key":f,"x-rapidapi-host":"currency-converter5.p.rapidapi.com"}}).then((function(e){return e.json()})).then((function(t){if("undefined"===typeof t.rates)e.setState({error:"Oops, the program encountered a problem retrieving the exchange rate. Try again in a moment."});else{var n=t.rates[e.state.secondInputCurrency].rate,r=Math.round(e.state.firstInputValue*n*100)/100;e.setState({secondInputValue:r,currencyRate:n,error:""})}})).catch((function(e){console.error(e)}))},e.handleInputChange=function(t,n,r){var a=r?n:1/n,c=Math.round(t*a*100)/100;r?e.setState({firstInputValue:t,secondInputValue:c}):e.setState({firstInputValue:c,secondInputValue:t})},e.createApiRequest=function(e,t){return"https://currency-converter5.p.rapidapi.com/currency/convert?format=json&from="+e+"&to="+t+"&amount=1"},e.handleOptionChange=function(t,n,r){var a=r?n:e.state.firstInputCurrency,c=r?e.state.secondInputCurrency:n;e.setState(Object(u.a)({},t,n)),e.getApiCurrencyRate(a,c)},e.errorDisplay=function(){return""===e.state.error?null:Object(h.jsx)("span",{className:"error_msg",children:e.state.error})},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.getApiCurrenciesList(),setTimeout((function(){return e.initialApiRequest()}),1e3)}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"input_label_wraper",children:[Object(h.jsxs)("span",{className:"current_exchange_rate",children:["Current exchange rate: ",this.state.currencyRate]}),Object(h.jsxs)("label",{children:[Object(h.jsx)(g,{value:this.state.firstInputValue,onChange:function(t){return e.handleInputChange(t.target.value,e.state.currencyRate,!0)}}),Object(h.jsx)(d,{value:this.state.firstInputCurrency,name:"firstInputCurrency",onChange:function(t){return e.handleOptionChange(t.target.name,t.target.value,!0)},avalibleCurrencies:this.state.avalibleCurrencies})]})]}),Object(h.jsx)("div",{className:"input_label_wraper",children:Object(h.jsxs)("label",{children:[Object(h.jsx)(g,{value:this.state.secondInputValue,onChange:function(t){return e.handleInputChange(t.target.value,e.state.currencyRate,!1)}}),Object(h.jsx)(d,{value:this.state.secondInputCurrency,name:"secondInputCurrency",onChange:function(t){return e.handleOptionChange(t.target.name,t.target.value,!1)},avalibleCurrencies:this.state.avalibleCurrencies})]})}),this.errorDisplay()]})}}]),n}(r.Component),g=function(e){return Object(h.jsx)("input",{value:e.value,onChange:e.onChange})},j=v,m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(j,{})}),document.getElementById("root")),m()}},[[16,1,2]]]);
//# sourceMappingURL=main.39cdce8b.chunk.js.map